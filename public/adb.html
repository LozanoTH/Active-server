<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ADB WebUSB - Nexhax">
    <meta name="theme-color" content="#000000">
    <meta name="color-scheme" content="light dark">
    <title>ADB - Nexhax</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script type="importmap">
        {
            "imports": {
                "@yume-chan/adb": "https://esm.sh/@yume-chan/adb",
                "@yume-chan/adb-daemon-webusb": "https://esm.sh/@yume-chan/adb-daemon-webusb",
                "@yume-chan/adb-credential-web": "https://esm.sh/@yume-chan/adb-credential-web"
            }
        }
    </script>
</head>

<body>
    <header class="topbar">
        <div class="brand">Nexhax</div>
        <button class="btn btn-outline-secondary d-md-none" type="button" data-bs-toggle="offcanvas"
            data-bs-target="#mobileNav" aria-controls="mobileNav">
            Menu
        </button>
        <nav class="nav-links">
            <a href="home.html">Dashboard</a>
            <a href="rastreo.html">Rastreo</a>
            <a href="keylogs.html">Keylogs</a>
            <a href="perfil.html">Perfil</a>
            <a href="adb.html" class="active">ADB</a>
            <a href="osint.html">OSINT</a>
        </nav>
        <a href="home.html" class="btn-ghost btn-inline">Volver</a>
    </header>

    <div class="offcanvas offcanvas-start d-md-none" tabindex="-1" id="mobileNav" aria-labelledby="mobileNavLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="mobileNavLabel">Navegacion</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
        </div>
        <div class="offcanvas-body">
            <div class="list-group">
                <a href="home.html" class="list-group-item list-group-item-action">Dashboard</a>
                <a href="rastreo.html" class="list-group-item list-group-item-action">Rastreo</a>
                <a href="keylogs.html" class="list-group-item list-group-item-action">Keylogs</a>
                <a href="perfil.html" class="list-group-item list-group-item-action">Perfil</a>
                <a href="adb.html" class="list-group-item list-group-item-action active">ADB</a>
                <a href="osint.html" class="list-group-item list-group-item-action">OSINT</a>
            </div>
        </div>
    </div>

    <div class="adb-layout">
        <aside class="adb-sidebar">
            <div class="adb-brand">WebADB</div>
            <div class="adb-section-title">Dispositivos</div>

            <div class="device-list" id="adb-devices">
                <div class="device-item muted">Sin dispositivos detectados aun.</div>
            </div>

            <div class="adb-actions">
                <button id="btn-adb-detect" class="btn-secondary btn-inline">Detectar</button>
                <button id="btn-adb-select" class="btn-inline">Seleccionar</button>
                <button id="btn-adb-connect" class="btn-inline">Conectar</button>
                <button id="btn-adb-disconnect" class="btn-ghost btn-inline">Desconectar</button>
            </div>

            <div class="adb-status-panel">
                <div class="status-row">
                    <span>Estado</span>
                    <strong id="adb-status">Desconectado</strong>
                </div>
                <div class="status-row">
                    <span>Dispositivo</span>
                    <strong id="adb-device">-</strong>
                </div>
                <div class="status-row">
                    <span>WebUSB</span>
                    <strong id="adb-webusb">Comprobando...</strong>
                </div>
            </div>

            <div class="adb-help">
                <div class="adb-section-title">Compatibilidad</div>
                <p>Solo navegadores Chromium con WebUSB. Usa HTTPS o localhost.</p>
                <div class="steps">
                    <div class="step">1. Activa Depuracion USB</div>
                    <div class="step">2. Conecta el cable</div>
                    <div class="step">3. Acepta huella RSA</div>
                </div>
            </div>
        </aside>

        <main class="adb-main">
            <div class="card adb-hero">
                <h2>ADB por WebUSB</h2>
                <p>Conecta tu Android y controla funciones clave desde el navegador.</p>
                <div class="adb-toolbar">
                    <button id="btn-adb-info" class="btn-secondary btn-inline">Obtener Info</button>
                    <button class="btn-ghost btn-inline" id="btn-adb-refresh">Actualizar lista</button>
                </div>
                <div class="code-output" id="adb-output">Sin datos aun.</div>
            </div>

            <div class="card">
                <div class="adb-tabs">
                    <button class="tab active" data-tab="info">Device Info</button>
                    <button class="tab" data-tab="files">File Manager</button>
                    <button class="tab" data-tab="screen">Screen Capture</button>
                    <button class="tab" data-tab="shell">Interactive Shell</button>
                    <button class="tab" data-tab="wifi">ADB over WiFi</button>
                    <button class="tab" data-tab="apk">Install APK</button>
                    <button class="tab" data-tab="logcat">Logcat</button>
                </div>

                <div class="adb-panel" id="adb-panel">
                    <div class="panel-title">Device Info</div>
                    <p>Selecciona un dispositivo y presiona "Obtener Info" para ver los datos basicos.</p>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="./adb.js"></script>
</body>

</html>
